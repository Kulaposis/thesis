<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thesis/Capstone Dashboard</title>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root {
      --primary: #3b82f6;
      --primary-hover: #2563eb;
      --secondary: #64748b;
      --success: #10b981;
      --warning: #f59e0b;
      --danger: #ef4444;
    }
    
    .active-tab {
      @apply text-blue-600 font-semibold bg-blue-50 rounded-md transition-colors duration-200;
    }
    
    .student-row:hover {
      @apply bg-blue-50 cursor-pointer transition-colors duration-150;
    }
    
    .progress-bar {
      transition: width 0.6s ease;
    }
    
    .fade-in {
      animation: fadeIn 0.3s ease-in-out;
    }
    
    .card-hover {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    
    .card-hover:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }
    
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: #c1c1c1;
      border-radius: 10px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: #a1a1a1;
    }
    
    /* Smooth transitions for sidebar */
    .sidebar-transition {
      transition: all 0.3s ease;
    }
    
    /* Responsive adjustments */
    @media (max-width: 1024px) {
      .responsive-grid {
        grid-template-columns: 1fr;
      }
      
      .responsive-table {
        width: 100%;
        overflow-x: auto;
        display: block;
      }
    }
  </style>
</head>

<body class="bg-gray-50 font-sans text-sm antialiased">
  <div class="flex min-h-screen">
    <!-- Sidebar -->
    <aside class="w-64 bg-white shadow-md p-4 sidebar-transition hidden md:block">
      <div class="flex items-center mb-6">
        <div class="bg-blue-100 p-2 rounded-lg mr-3">
          <i data-lucide="book-open" class="w-6 h-6 text-blue-600"></i>
        </div>
        <h1 class="text-blue-700 font-bold text-lg leading-tight">
          THESIS/CAPSTONE<br>MANAGEMENT
        </h1>
      </div>
      <nav class="space-y-1 text-gray-700 font-medium">
        <a href="#" data-tab="dashboard" class="flex items-center gap-3 p-3 sidebar-item active-tab hover:bg-blue-50 rounded-lg">
          <i data-lucide="layout-dashboard" class="w-5 h-5"></i> Dashboard
        </a>
        <a href="#" data-tab="theses" class="flex items-center gap-3 p-3 sidebar-item hover:bg-gray-50 rounded-lg">
          <i data-lucide="book" class="w-5 h-5"></i> Theses
        </a>
        <a href="#" data-tab="feedback" class="flex items-center gap-3 p-3 sidebar-item hover:bg-gray-50 rounded-lg">
          <i data-lucide="message-circle" class="w-5 h-5"></i> AI Feedback
          <span class="ml-auto bg-blue-100 text-blue-800 text-xs px-2 py-0.5 rounded-full">New</span>
        </a>
        <a href="#" data-tab="timeline" class="flex items-center gap-3 p-3 sidebar-item hover:bg-gray-50 rounded-lg">
          <i data-lucide="clock" class="w-5 h-5"></i> Timeline
        </a>
        <a href="#" data-tab="reports" class="flex items-center gap-3 p-3 sidebar-item hover:bg-gray-50 rounded-lg">
          <i data-lucide="bar-chart" class="w-5 h-5"></i> Reports
        </a>
        <a href="#" data-tab="settings" class="flex items-center gap-3 p-3 sidebar-item hover:bg-gray-50 rounded-lg">
          <i data-lucide="settings" class="w-5 h-5"></i> Settings
        </a>
      </nav>
      <div class="mt-auto pt-6">
        <div class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg">
          <img src="https://i.pravatar.cc/40?img=1" class="w-10 h-10 rounded-full" alt="Adviser" />
          <div class="flex-1 min-w-0">
            <p class="font-semibold truncate">John Doe</p>
            <p class="text-gray-500 text-xs">Adviser</p>
          </div>
          <button class="text-gray-400 hover:text-gray-600" id="sidebarLogout">
            <i data-lucide="log-out" class="w-4 h-4"></i>
          </button>
        </div>
      </div>
    </aside>

    <!-- Mobile sidebar toggle -->
    <button id="sidebarToggle" class="md:hidden fixed top-4 left-4 z-50 bg-white p-2 rounded-lg shadow-md">
      <i data-lucide="menu" class="w-5 h-5"></i>
    </button>

    <!-- Main Content -->
    <main class="flex-1 p-4 md:p-6">
      <div class="flex justify-between items-center mb-6">
        <div>
          <h2 class="text-xl font-semibold">Dashboard</h2>
          <p class="text-gray-500 text-sm">Welcome back, Professor Doe</p>
        </div>
        <div class="flex items-center space-x-4">
          <button class="relative text-gray-600 hover:text-gray-900">
            <i data-lucide="bell" class="w-5 h-5"></i>
            <span class="absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full"></span>
          </button>
          <div class="relative group">
            <img src="https://i.pravatar.cc/40?img=1" class="w-8 h-8 rounded-full cursor-pointer" alt="Profile" />
            <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 hidden group-hover:block">
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Profile</a>
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">Settings</a>
              <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" id="profileLogout">Logout</a>
            </div>
          </div>
        </div>
      </div>

      <!-- Summary Cards -->
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6">
        <div class="bg-white p-4 rounded-lg shadow flex items-center card-hover">
          <div class="bg-blue-100 p-3 rounded-full mr-4">
            <i data-lucide="file-text" class="w-5 h-5 text-blue-600"></i>
          </div>
          <div>
            <p class="font-bold text-2xl">5</p>
            <p class="text-gray-500 text-sm">In Progress</p>
          </div>
          <div class="ml-auto text-sm text-blue-600">+2 this week</div>
        </div>
        <div class="bg-white p-4 rounded-lg shadow flex items-center card-hover">
          <div class="bg-amber-100 p-3 rounded-full mr-4">
            <i data-lucide="alert-circle" class="w-5 h-5 text-amber-600"></i>
          </div>
          <div>
            <p class="font-bold text-2xl">2</p>
            <p class="text-gray-500 text-sm">For Review</p>
          </div>
          <div class="ml-auto text-sm text-amber-600">Urgent</div>
        </div>
        <div class="bg-white p-4 rounded-lg shadow flex items-center card-hover">
          <div class="bg-green-100 p-3 rounded-full mr-4">
            <i data-lucide="check-circle" class="w-5 h-5 text-green-600"></i>
          </div>
          <div>
            <p class="font-bold text-2xl">3</p>
            <p class="text-gray-500 text-sm">Approved</p>
          </div>
          <div class="ml-auto text-sm text-green-600">+1 today</div>
        </div>
      </div>

      <!-- Students & Annotations -->
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 responsive-grid">
        <!-- Students Table -->
        <div class="lg:col-span-2 bg-white rounded-lg shadow overflow-hidden">
          <div class="p-4 border-b flex justify-between items-center">
            <h3 class="font-semibold">Your Students</h3>
            <div class="flex space-x-2">
              <button class="p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded">
                <i data-lucide="filter" class="w-4 h-4"></i>
              </button>
              <button class="p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded">
                <i data-lucide="search" class="w-4 h-4"></i>
              </button>
            </div>
          </div>
          <div class="overflow-x-auto responsive-table">
            <table class="w-full text-left">
              <thead class="bg-gray-50 text-gray-600 text-xs uppercase">
                <tr>
                  <th class="p-3 font-medium">Student</th>
                  <th class="p-3 font-medium">Thesis Title</th>
                  <th class="p-3 font-medium">Chapter</th>
                  <th class="p-3 font-medium">Progress</th>
                  <th class="p-3 font-medium">Status</th>
                </tr>
              </thead>
              <tbody class="text-sm divide-y divide-gray-100">
                <tr class="student-row hover:bg-blue-50/50" data-student="alice" onclick="showStudentDetails('alice')">
                  <td class="p-3 flex items-center">
                    <img src="https://i.pravatar.cc/40?img=5" class="w-8 h-8 rounded-full mr-2" alt="Alice" />
                    <span>Alice Smith</span>
                  </td>
                  <td class="p-3 max-w-[200px] truncate">Deep Learning In Computer Vision</td>
                  <td class="p-3">Chapter 1</td>
                  <td class="p-3">
                    <div class="flex items-center">
                      <div class="w-full bg-gray-200 h-2 rounded-full mr-2">
                        <div class="bg-blue-600 h-2 rounded-full progress-bar" style="width: 100%"></div>
                      </div>
                      <span class="text-xs text-gray-500">100%</span>
                    </div>
                  </td>
                  <td class="p-3">
                    <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">Approved</span>
                  </td>
                </tr>
                <tr class="student-row hover:bg-blue-50/50" data-student="bob" onclick="showStudentDetails('bob')">
                  <td class="p-3 flex items-center">
                    <img src="https://i.pravatar.cc/40?img=6" class="w-8 h-8 rounded-full mr-2" alt="Bob" />
                    <span>Bob Johnson</span>
                  </td>
                  <td class="p-3 max-w-[200px] truncate">Blockchain for Supply Chain</td>
                  <td class="p-3">Chapter 2</td>
                  <td class="p-3">
                    <div class="flex items-center">
                      <div class="w-full bg-gray-200 h-2 rounded-full mr-2">
                        <div class="bg-blue-600 h-2 rounded-full progress-bar" style="width: 16.6%"></div>
                      </div>
                      <span class="text-xs text-gray-500">16%</span>
                    </div>
                  </td>
                  <td class="p-3">
                    <span class="px-2 py-1 text-xs rounded-full bg-amber-100 text-amber-800">Review</span>
                  </td>
                </tr>
                <tr class="student-row hover:bg-blue-50/50" data-student="carol" onclick="showStudentDetails('carol')">
                  <td class="p-3 flex items-center">
                    <img src="https://i.pravatar.cc/40?img=7" class="w-8 h-8 rounded-full mr-2" alt="Carol" />
                    <span>Carol Williams</span>
                  </td>
                  <td class="p-3 max-w-[200px] truncate">Renewable Energy Adoption</td>
                  <td class="p-3">Chapter 3</td>
                  <td class="p-3">
                    <div class="flex items-center">
                      <div class="w-full bg-gray-200 h-2 rounded-full mr-2">
                        <div class="bg-blue-600 h-2 rounded-full progress-bar" style="width: 50%"></div>
                      </div>
                      <span class="text-xs text-gray-500">50%</span>
                    </div>
                  </td>
                  <td class="p-3">
                    <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">Approved</span>
                  </td>
                </tr>
                <tr class="student-row hover:bg-blue-50/50" data-student="david" onclick="showStudentDetails('david')">
                  <td class="p-3 flex items-center">
                    <img src="https://i.pravatar.cc/40?img=8" class="w-8 h-8 rounded-full mr-2" alt="David" />
                    <span>David Brown</span>
                  </td>
                  <td class="p-3 max-w-[200px] truncate">Social Media Impact on Communication</td>
                  <td class="p-3">Chapter 4</td>
                  <td class="p-3">
                    <div class="flex items-center">
                      <div class="w-full bg-gray-200 h-2 rounded-full mr-2">
                        <div class="bg-blue-600 h-2 rounded-full progress-bar" style="width: 60%"></div>
                      </div>
                      <span class="text-xs text-gray-500">60%</span>
                    </div>
                  </td>
                  <td class="p-3">
                    <span class="px-2 py-1 text-xs rounded-full bg-green-100 text-green-800">Approved</span>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="p-3 border-t flex justify-between items-center text-sm text-gray-500">
            <span>Showing 4 of 8 students</span>
            <div class="flex space-x-2">
              <button class="p-1 rounded hover:bg-gray-100 disabled:text-gray-300" disabled>
                <i data-lucide="chevron-left" class="w-4 h-4"></i>
              </button>
              <button class="p-1 rounded hover:bg-gray-100">
                <i data-lucide="chevron-right" class="w-4 h-4"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- Annotations Panel -->
        <div class="space-y-4">
          <!-- Student Details Card -->
          <div class="bg-white rounded-lg shadow overflow-hidden">
            <div class="p-4 border-b">
              <h3 class="font-semibold">Student Details</h3>
            </div>
            <div class="p-4" id="studentDetails">
              <div class="text-center py-8 text-gray-400">
                <i data-lucide="user" class="w-10 h-10 mx-auto mb-2"></i>
                <p>Select a student to view details</p>
              </div>
            </div>
          </div>
          
          <!-- Annotations Card -->
          <div class="bg-white rounded-lg shadow overflow-hidden">
            <div class="p-4 border-b flex justify-between items-center">
              <h3 class="font-semibold">Annotations</h3>
              <span class="text-sm text-gray-500" id="studentLabel">-</span>
            </div>
            <div class="p-4 h-[300px] flex flex-col">
              <div class="flex-1 overflow-y-auto space-y-3 mb-3" id="annotation-box">
                <div class="text-center py-8 text-gray-400" id="empty-annotations">
                  <i data-lucide="message-square" class="w-10 h-10 mx-auto mb-2"></i>
                  <p>No annotations yet</p>
                  <p class="text-xs mt-1">Select a student to view or add comments</p>
                </div>
              </div>
              <div class="mt-auto pt-3 border-t">
                <div class="relative">
                  <input id="comment-input" type="text" placeholder="Add a comment..."
                    class="w-full border rounded-lg px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent pr-10" 
                    disabled />
                  <button onclick="addComment()" class="absolute right-2 top-2 text-gray-400 hover:text-blue-600" disabled id="send-button">
                    <i data-lucide="send" class="w-5 h-5"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Initialize Lucide icons
    lucide.createIcons();
    
    // Student data
    const students = {
      alice: {
        name: "Alice Smith",
        avatar: "https://i.pravatar.cc/80?img=5",
        email: "alice.smith@university.edu",
        program: "Computer Science",
        thesis: "Deep Learning In Computer Vision",
        chapter: "Chapter 1: Introduction",
        status: "Approved",
        progress: 100,
        lastActive: "2 hours ago",
        annotations: [
          { author: "John Doe", content: "Please clarify the methodology section on page 12", time: "2 days ago", type: "comment" },
          { author: "Alice Smith", content: "I've updated the methodology as suggested", time: "1 day ago", type: "response" }
        ]
      },
      bob: {
        name: "Bob Johnson",
        avatar: "https://i.pravatar.cc/80?img=6",
        email: "bob.johnson@university.edu",
        program: "Information Systems",
        thesis: "Blockchain for Supply Chain",
        chapter: "Chapter 2: Literature Review",
        status: "For Review",
        progress: 16,
        lastActive: "15 minutes ago",
        annotations: [
          { author: "John Doe", content: "The literature review needs more recent sources (2020+)", time: "5 hours ago", type: "comment" },
          { author: "System", content: "Deadline reminder: Submission due in 3 days", time: "1 day ago", type: "reminder" }
        ]
      },
      carol: {
        name: "Carol Williams",
        avatar: "https://i.pravatar.cc/80?img=7",
        email: "carol.williams@university.edu",
        program: "Environmental Science",
        thesis: "Renewable Energy Adoption",
        chapter: "Chapter 3: Methodology",
        status: "Approved",
        progress: 50,
        lastActive: "1 day ago",
        annotations: []
      },
      david: {
        name: "David Brown",
        avatar: "https://i.pravatar.cc/80?img=8",
        email: "david.brown@university.edu",
        program: "Communication",
        thesis: "Social Media Impact on Communication",
        chapter: "Chapter 4: Results",
        status: "Approved",
        progress: 60,
        lastActive: "3 days ago",
        annotations: [
          { author: "John Doe", content: "Excellent results presentation. Consider adding more visualizations", time: "1 week ago", type: "comment" }
        ]
      }
    };
    
    // Current selected student
    let currentStudent = null;
    
    // Show student details
    function showStudentDetails(studentId) {
      currentStudent = studentId;
      const student = students[studentId];
      
      // Update student details panel
      document.getElementById('studentDetails').innerHTML = `
        <div class="flex flex-col items-center mb-4">
          <img src="${student.avatar}" class="w-16 h-16 rounded-full mb-3" alt="${student.name}" />
          <h4 class="font-semibold text-center">${student.name}</h4>
          <p class="text-sm text-gray-500">${student.program}</p>
        </div>
        <div class="space-y-3 text-sm">
          <div class="flex justify-between">
            <span class="text-gray-500">Email:</span>
            <span>${student.email}</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-500">Thesis:</span>
            <span class="text-right">${student.thesis}</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-500">Current Chapter:</span>
            <span>${student.chapter}</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-500">Status:</span>
            <span class="px-2 py-1 text-xs rounded-full ${
              student.status === 'Approved' ? 'bg-green-100 text-green-800' : 'bg-amber-100 text-amber-800'
            }">${student.status}</span>
          </div>
          <div class="flex justify-between">
            <span class="text-gray-500">Last Active:</span>
            <span>${student.lastActive}</span>
          </div>
        </div>
        <div class="mt-4 pt-4 border-t">
          <button class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg text-sm font-medium transition-colors">
            View Full Thesis
          </button>
        </div>
      `;
      
      // Update annotations
      updateAnnotations(student);
      
      // Update student label
      document.getElementById('studentLabel').textContent = student.chapter;
      
      // Enable comment input
      document.getElementById('comment-input').disabled = false;
      document.getElementById('send-button').disabled = false;
      document.getElementById('send-button').classList.remove('text-gray-400');
      document.getElementById('send-button').classList.add('text-blue-600', 'hover:text-blue-700');
      
      // Highlight selected row
      document.querySelectorAll('.student-row').forEach(row => {
        row.classList.remove('bg-blue-50');
      });
      document.querySelector(`.student-row[data-student="${studentId}"]`).classList.add('bg-blue-50');
    }
    
    // Update annotations display
    function updateAnnotations(student) {
      const annotationBox = document.getElementById('annotation-box');
      
      if (student.annotations.length === 0) {
        annotationBox.innerHTML = `
          <div class="text-center py-8 text-gray-400">
            <i data-lucide="message-square" class="w-10 h-10 mx-auto mb-2"></i>
            <p>No annotations yet</p>
            <p class="text-xs mt-1">Add your first comment below</p>
          </div>
        `;
        return;
      }
      
      annotationBox.innerHTML = '';
      student.annotations.forEach(annotation => {
        const div = document.createElement('div');
        div.className = 'fade-in p-3 rounded-lg ' + (
          annotation.type === 'comment' ? 'bg-blue-50 text-blue-900' : 
          annotation.type === 'response' ? 'bg-gray-100 text-gray-800' :
          'bg-amber-50 text-amber-900'
        );
        
        div.innerHTML = `
          <div class="flex justify-between items-start mb-1">
            <strong>${annotation.author}</strong>
            <span class="text-xs text-gray-500">${annotation.time}</span>
          </div>
          <p>${annotation.content}</p>
          ${annotation.type === 'reminder' ? `<div class="mt-2 text-xs flex items-center text-amber-700">
            <i data-lucide="alert-triangle" class="w-3 h-3 mr-1"></i> Reminder
          </div>` : ''}
        `;
        
        annotationBox.appendChild(div);
      });
      
      // Scroll to bottom
      annotationBox.scrollTop = annotationBox.scrollHeight;
      
      // Refresh icons
      lucide.createIcons();
    }
    
    // Add a new comment
    function addComment() {
      if (!currentStudent) return;
      
      const input = document.getElementById('comment-input');
      const text = input.value.trim();
      if (!text) return;
      
      const student = students[currentStudent];
      const now = new Date();
      const timeString = 'Just now';
      
      // Add to student's annotations
      student.annotations.push({
        author: "You",
        content: text,
        time: timeString,
        type: "comment"
      });
      
      // Update display
      updateAnnotations(student);
      
      // Clear input
      input.value = '';
      
      // Simulate student response after 2 seconds
      setTimeout(() => {
        if (Math.random() > 0.3) { // 70% chance of response
          const responses = [
            "Thanks, I'll work on that.",
            "Could you clarify what you mean?",
            "I've made those changes in the latest version.",
            "That section is still in progress, I'll update it soon."
          ];
          
          student.annotations.push({
            author: student.name,
            content: responses[Math.floor(Math.random() * responses.length)],
            time: '1 minute ago',
            type: "response"
          });
          
          updateAnnotations(student);
        }
      }, 2000);
    }
    
    // Tab switching
    document.querySelectorAll('.sidebar-item').forEach(item => {
      item.addEventListener('click', (e) => {
        e.preventDefault();
        document.querySelectorAll('.sidebar-item').forEach(i => i.classList.remove('active-tab'));
        item.classList.add('active-tab');
        
        // In a real app, this would load the appropriate content
        document.querySelector('main h2').textContent = item.textContent.trim();
      });
    });
    
    // Handle comment input
    document.getElementById('comment-input').addEventListener('keydown', function(e) {
      if (e.key === 'Enter') {
        e.preventDefault();
        addComment();
      }
    });
    
    // Mobile sidebar toggle
    document.getElementById('sidebarToggle').addEventListener('click', function() {
      document.querySelector('aside').classList.toggle('hidden');
    });
    
    // Close sidebar when clicking outside on mobile
    document.addEventListener('click', function(e) {
      if (window.innerWidth < 768 && 
          !e.target.closest('aside') && 
          !e.target.closest('#sidebarToggle')) {
        document.querySelector('aside').classList.add('hidden');
      }
    });
    
    // Logout functionality
    document.getElementById('sidebarLogout').addEventListener('click', function(e) {
      e.preventDefault();
      window.location.href = 'login.html';
    });

    document.getElementById('profileLogout').addEventListener('click', function(e) {
      e.preventDefault();
      window.location.href = 'login.html';
    });
    
    // Initialize with first student (for demo)
    setTimeout(() => showStudentDetails('alice'), 500);
  </script>
</body>

</html>